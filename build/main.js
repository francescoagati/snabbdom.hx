// Generated by Haxe 3.3.0
(function () { "use strict";
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var HxOverrides = function() { };
HxOverrides.__name__ = true;
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.random = function(x) {
	if(x <= 0) {
		return 0;
	} else {
		return Math.floor(Math.random() * x);
	}
};
var haxe_Timer = function(time_ms) {
	var me = this;
	this.id = setInterval(function() {
		me.run();
	},time_ms);
};
haxe_Timer.__name__ = true;
haxe_Timer.prototype = {
	run: function() {
	}
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	this.message = String(val);
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
});
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o instanceof Array) {
			if(o.__enum__) {
				if(o.length == 2) {
					return o[0];
				}
				var str = o[0] + "(";
				s += "\t";
				var _g1 = 2;
				var _g = o.length;
				while(_g1 < _g) {
					var i = _g1++;
					if(i != 2) {
						str += "," + js_Boot.__string_rec(o[i],s);
					} else {
						str += js_Boot.__string_rec(o[i],s);
					}
				}
				return str + ")";
			}
			var l = o.length;
			var i1;
			var str1 = "[";
			s += "\t";
			var _g11 = 0;
			var _g2 = l;
			while(_g11 < _g2) {
				var i2 = _g11++;
				str1 += (i2 > 0?",":"") + js_Boot.__string_rec(o[i2],s);
			}
			str1 += "]";
			return str1;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str2 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str2.length != 2) {
			str2 += ", \n";
		}
		str2 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str2 += "\n" + s + "}";
		return str2;
	case "string":
		return o;
	default:
		return String(o);
	}
};
var partials_Partial = function() { };
partials_Partial.__name__ = true;
var snabbdom_Main = function() { };
snabbdom_Main.__name__ = true;
snabbdom_Main.click = function(e) {
};
snabbdom_Main.over = function(e) {
};
snabbdom_Main.out = function(e) {
};
snabbdom_Main.main = function() {
	var txt = "testo";
	var vnode_sel = "div";
	var vnode_data = { attrs : { id : "pippa"}};
	var vnode_children = [{ sel : "ul", data : { attrs : { }}, children : [{ sel : "li", data : { attrs : { }}, children : null, elm : null, key : null, text : "1"},{ sel : "li", data : { attrs : { }}, children : null, elm : null, key : null, text : "2"},{ sel : "li", data : { attrs : { }}, children : null, elm : null, key : null, text : "3"},{ sel : "li", data : { attrs : { }}, children : null, elm : null, key : null, text : "4"},{ sel : "li", data : { attrs : { }}, children : null, elm : null, key : null, text : "5"},{ sel : "li", data : { attrs : { }}, children : [{ sel : "span", data : { attrs : { }, on : { 'click' : snabbdom_Main.click}}, children : null, elm : null, key : null, text : txt}], elm : null, key : null, text : null}], elm : null, key : null, text : null}];
	var vnode_elm = null;
	var vnode_key = null;
	var vnode_text = null;
	var last_node = null;
	var timer = new haxe_Timer(1000);
	timer.run = function() {
		var rnd = Math.random();
		var color = thx_Arrays.shuffle(["red","yellow","green","black","white","grey"])[0];
		var bg = thx_Arrays.shuffle(["red","yellow","green","black","white","grey"])[0];
		var max = 2;
		var _g = [];
		var _g1_min = 0;
		var _g1_max = max;
		while(_g1_min < _g1_max) {
			var x = _g1_min++;
			_g.push({ sel : "li", data : { attrs : { }}, children : [{ sel : "span", data : { attrs : { }}, children : null, elm : null, key : null, text : x}], elm : null, key : null, text : null});
		}
		var list = _g;
		var vnode2 = { sel : "div", data : { attrs : { id : "pippa"}, on : { 'click' : snabbdom_Main.click, 'mouseout' : snabbdom_Main.out, 'mouseover' : snabbdom_Main.over}}, children : [{ sel : "span", data : { attrs : { }}, children : null, elm : null, key : null, text : max},{ sel : "ul", data : { attrs : { }, style : { fontSize : "30px", color : color, backgroundColor : bg}}, children : list, elm : null, key : null, text : null}], elm : null, key : null, text : null};
		if(last_node == null) {
			snabbdom_engine_dom_PatchDom.patchDom(window.document.getElementById("container"),vnode2);
		} else {
			snabbdom_engine_dom_PatchDom.patch(last_node,vnode2);
		}
		last_node = vnode2;
	};
	timer.run();
};
var snabbdom_engine_dom_PatchDom = function() { };
snabbdom_engine_dom_PatchDom.__name__ = true;
snabbdom_engine_dom_PatchDom.__interfaces__ = [partials_Partial];
snabbdom_engine_dom_PatchDom.createElm = function(vnode,insertedVnodeQueue) {
	var i;
	var data = vnode.data;
	if(data != undefined) {
		var tmp;
		i = data.hook;
		if(i != undefined) {
			i = i.init;
			tmp = i != undefined;
		} else {
			tmp = false;
		}
		if(tmp) {
			i(vnode);
		}
		i = data.vnode;
		if(i != undefined) {
			vnode = i;
		}
	}
	var elm;
	var children = vnode.children;
	var sel = vnode.sel;
	if(sel != undefined) {
		var hashIdx = sel.indexOf("#",0);
		var dotIdx = sel.indexOf(".",hashIdx);
		var hash = hashIdx > 0?hashIdx:sel.length;
		var dot = dotIdx > 0?dotIdx:sel.length;
		var tag = hashIdx != -1 || dotIdx != -1?sel.slice(0,Math.min(hash,dot)):sel;
		var tmp1;
		var tmp2;
		if(data != undefined) {
			i = data.ns;
			tmp2 = i != undefined;
		} else {
			tmp2 = false;
		}
		if(tmp2) {
			tmp1 = window.document.createElementNS(i,tag);
		} else {
			tmp1 = window.document.createElement(tag);
		}
		elm = vnode.elm = tmp1;
		if(hash < dot) {
			elm.id = sel.slice(hash + 1,dot);
		}
		if(Array.isArray(children)) {
			i = 0;
			while(i < children.length) {
				var new_node = snabbdom_engine_dom_PatchDom.createElm(children[i],insertedVnodeQueue);
				elm.appendChild(new_node);
				++i;
			}
		} else if(typeof vnode.text == "string" || typeof vnode.text == "number") {
			elm.appendChild(window.document.createTextNode(vnode.text));
		}
		var oldVnode = snabbdom_engine_dom_PatchDom.emptyNode;
		var key;
		var cur;
		var old;
		var elm1 = vnode.elm;
		var oldAttrs = oldVnode.data.attrs == null?{ }:oldVnode.data.attrs;
		var attrs = vnode.data.attrs == null?{ }:vnode.data.attrs;
		var _g = 0;
		var _g1 = Object.keys(attrs);
		while(_g < _g1.length) {
			var key1 = [_g1[_g]];
			++_g;
			cur = attrs[key1[0]];
			old = oldAttrs[key1[0]];
			if(old != cur) {
				if(!cur && snabbdom_engine_dom_plugins_Attributes.booleanAttrsDict[key1[0]]) {
					window.requestAnimationFrame((function(key2) {
						return function(i1) {
							elm1.removeAttribute(key2[0]);
						};
					})(key1));
				} else {
					window.requestAnimationFrame((function(key3) {
						return function(i2) {
							elm1.setAttribute(key3[0],cur);
						};
					})(key1));
				}
			}
		}
		var _g2 = 0;
		var _g11 = Object.keys(oldAttrs);
		while(_g2 < _g11.length) {
			var key4 = _g11[_g2];
			++_g2;
			if(!Object.prototype.hasOwnProperty.call(attrs,key4)) {
				elm1.removeAttribute(key4);
			}
		}
		var key5;
		var cur1;
		var old1;
		var elm2 = vnode.elm;
		var oldProps = oldVnode.data.props == null?{ }:oldVnode.data.props;
		var props = vnode.data.props == null?{ }:vnode.data.props;
		var _g3 = 0;
		var _g12 = Object.keys(props);
		while(_g3 < _g12.length) {
			var key6 = _g12[_g3];
			++_g3;
			cur1 = props[key6];
			old1 = oldProps[key6];
			if(old1 != cur1) {
				elm2[key6] = cur1;
			}
		}
		var cur2;
		var name;
		var elm3 = vnode.elm;
		var oldClass = oldVnode.data.classes == null?{ }:oldVnode.data.classes;
		var klass = vnode.data.classes == null?{ }:vnode.data.classes;
		var _g4 = 0;
		var _g13 = Object.keys(klass);
		while(_g4 < _g13.length) {
			var name1 = [_g13[_g4]];
			++_g4;
			cur2 = klass[name1[0]];
			if(cur2 != oldClass[name1[0]]) {
				if(cur2 == "add") {
					window.requestAnimationFrame((function(name2) {
						return function(i3) {
							elm3.classList.add(name2[0]);
						};
					})(name1));
				} else if(cur2 == "remove") {
					window.requestAnimationFrame((function(name3) {
						return function(i4) {
							elm3.classList.remove(name3[0]);
						};
					})(name1));
				}
			}
		}
		var cur3;
		var name4;
		var elm4 = vnode.elm;
		var oldStyle = oldVnode.data.style == null?{ }:oldVnode.data.style;
		var style = vnode.data.style == null?{ }:vnode.data.style;
		var oldHasDel = Object.prototype.hasOwnProperty.call(oldStyle,"delayed");
		var _g5 = 0;
		var _g14 = Object.keys(style);
		while(_g5 < _g14.length) {
			var name5 = _g14[_g5];
			++_g5;
			cur3 = style[name5];
			if(name5 == "delayed") {
				var delayed = style.delayed;
				var oldDelayed = oldStyle.delayed;
				var _g21 = 0;
				var _g31 = Object.keys(delayed);
				while(_g21 < _g31.length) {
					var name6 = _g31[_g21];
					++_g21;
					cur3 = delayed[name6];
					if(!oldHasDel || cur3 != oldDelayed[name6]) {
						var obj = [elm4.style];
						var fn = [(function(val,prop,obj1) {
							return function(i5) {
								obj1[0][prop[0]] = val[0];
							};
						})([cur3],[name6],obj)];
						window.requestAnimationFrame((function(fn1) {
							return function(i6) {
								window.requestAnimationFrame(fn1[0]);
							};
						})(fn));
					}
				}
			} else if(name5 != "remove" && cur3 != oldStyle[name5]) {
				elm4.style[name5] = cur3;
			}
		}
		var name7;
		var cur4;
		var old2;
		var elm5 = vnode.elm;
		var oldOn = oldVnode.data.on == null?{ }:oldVnode.data.on;
		var on = vnode.data.on == null?{ }:vnode.data.on;
		if(on != { }) {
			var _g6 = 0;
			var _g15 = Object.keys(on);
			while(_g6 < _g15.length) {
				var name8 = _g15[_g6];
				++_g6;
				cur4 = on[name8];
				old2 = oldOn[name8];
				if(old2 == null) {
					on[name8] = cur4;
					elm5.addEventListener(name8,cur4);
				} else {
					on[name8] = cur4;
				}
			}
		}
		if(vnode.data != null) {
			i = vnode.data.hook;
			if(i != undefined) {
				if(i.create) {
					i.create(snabbdom_engine_dom_PatchDom.emptyNode,vnode);
				}
				if(i.insert) {
					insertedVnodeQueue.push(vnode);
				}
			}
		}
	} else {
		var this1 = window.document.createTextNode(vnode.text);
		elm = vnode.elm = this1;
	}
	return vnode.elm;
};
snabbdom_engine_dom_PatchDom.invokeDestroyHook = function(vnode) {
	var i = vnode.data;
	var j;
	if(i != undefined) {
		var tmp;
		i = i.hook;
		if(i != undefined) {
			i = i.destroy;
			tmp = i != undefined;
		} else {
			tmp = false;
		}
		if(tmp) {
			i(vnode);
		}
		var style = null;
		var name;
		var elm = vnode.elm;
		var s = vnode.data.style;
		if(s != null) {
			style = s.destroy;
			if(style != null) {
				var _g = 0;
				var _g1 = Object.keys(style);
				while(_g < _g1.length) {
					var name1 = _g1[_g];
					++_g;
					elm.style[name1] = style[name1];
				}
			}
		}
		i = vnode.children;
		if(i != undefined) {
			j = 0;
			while(j < vnode.children.length) {
				snabbdom_engine_dom_PatchDom.invokeDestroyHook(vnode.children[j]);
				++j;
			}
		}
	}
};
snabbdom_engine_dom_PatchDom.updateChildren = function(parentElm,oldCh,newCh,insertedVnodeQueue) {
	var oldStartIdx = 0;
	var newStartIdx = 0;
	var oldEndIdx = oldCh.length - 1;
	var oldStartVnode = oldCh[0];
	var oldEndVnode = oldCh[oldEndIdx];
	var newEndIdx = newCh.length - 1;
	var newStartVnode = newCh[0];
	var newEndVnode = newCh[newEndIdx];
	var oldKeyToIdx = null;
	var idxInOld;
	var elmToMove;
	var before;
	while(oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) if(oldStartVnode == undefined) {
		oldStartVnode = oldCh[++oldStartIdx];
	} else if(oldEndVnode == undefined) {
		oldEndVnode = oldCh[--oldEndIdx];
	} else if(oldStartVnode.key == newStartVnode.key && oldStartVnode.sel == newStartVnode.sel) {
		snabbdom_engine_dom_PatchDom.patchVnode(oldStartVnode,newStartVnode,insertedVnodeQueue);
		oldStartVnode = oldCh[++oldStartIdx];
		newStartVnode = newCh[++newStartIdx];
	} else if(oldEndVnode.key == newEndVnode.key && oldEndVnode.sel == newEndVnode.sel) {
		snabbdom_engine_dom_PatchDom.patchVnode(oldEndVnode,newEndVnode,insertedVnodeQueue);
		oldEndVnode = oldCh[--oldEndIdx];
		newEndVnode = newCh[--newEndIdx];
	} else if(oldStartVnode.key == newEndVnode.key && oldStartVnode.sel == newEndVnode.sel) {
		snabbdom_engine_dom_PatchDom.patchVnode(oldStartVnode,newEndVnode,insertedVnodeQueue);
		var this1 = oldEndVnode.elm.nextSibling;
		parentElm.insertBefore(oldStartVnode.elm,this1);
		oldStartVnode = oldCh[++oldStartIdx];
		newEndVnode = newCh[--newEndIdx];
	} else if(oldEndVnode.key == newStartVnode.key && oldEndVnode.sel == newStartVnode.sel) {
		snabbdom_engine_dom_PatchDom.patchVnode(oldEndVnode,newStartVnode,insertedVnodeQueue);
		parentElm.insertBefore(oldEndVnode.elm,oldStartVnode.elm);
		oldEndVnode = oldCh[--oldEndIdx];
		newStartVnode = newCh[++newStartIdx];
	} else {
		if(oldKeyToIdx == undefined) {
			var i;
			var map = { };
			var key;
			i = oldStartIdx;
			while(i <= oldEndIdx) {
				key = oldCh[i].key;
				if(key != undefined) {
					map[key] = i;
				}
				++i;
			}
			oldKeyToIdx = map;
		}
		idxInOld = oldKeyToIdx[newStartVnode.key];
		if(idxInOld == undefined) {
			var vnode = newStartVnode;
			var i1;
			var data = vnode.data;
			if(data != undefined) {
				var tmp;
				i1 = data.hook;
				if(i1 != undefined) {
					i1 = i1.init;
					tmp = i1 != undefined;
				} else {
					tmp = false;
				}
				if(tmp) {
					i1(vnode);
				}
				i1 = data.vnode;
				if(i1 != undefined) {
					vnode = i1;
				}
			}
			var elm;
			var children = vnode.children;
			var sel = vnode.sel;
			if(sel != undefined) {
				var hashIdx = sel.indexOf("#",0);
				var dotIdx = sel.indexOf(".",hashIdx);
				var hash = hashIdx > 0?hashIdx:sel.length;
				var dot = dotIdx > 0?dotIdx:sel.length;
				var tag = hashIdx != -1 || dotIdx != -1?sel.slice(0,Math.min(hash,dot)):sel;
				var tmp1;
				var tmp2;
				if(data != undefined) {
					i1 = data.ns;
					tmp2 = i1 != undefined;
				} else {
					tmp2 = false;
				}
				if(tmp2) {
					tmp1 = window.document.createElementNS(i1,tag);
				} else {
					tmp1 = window.document.createElement(tag);
				}
				elm = vnode.elm = tmp1;
				if(hash < dot) {
					elm.id = sel.slice(hash + 1,dot);
				}
				if(Array.isArray(children)) {
					i1 = 0;
					while(i1 < children.length) {
						var new_node = snabbdom_engine_dom_PatchDom.createElm(children[i1],insertedVnodeQueue);
						elm.appendChild(new_node);
						++i1;
					}
				} else if(typeof vnode.text == "string" || typeof vnode.text == "number") {
					elm.appendChild(window.document.createTextNode(vnode.text));
				}
				var oldVnode = snabbdom_engine_dom_PatchDom.emptyNode;
				var key1;
				var cur = [];
				var old;
				var elm1 = [vnode.elm];
				var oldAttrs = oldVnode.data.attrs == null?{ }:oldVnode.data.attrs;
				var attrs = vnode.data.attrs == null?{ }:vnode.data.attrs;
				var _g = 0;
				var _g1 = Object.keys(attrs);
				while(_g < _g1.length) {
					var key2 = [_g1[_g]];
					++_g;
					cur[0] = attrs[key2[0]];
					old = oldAttrs[key2[0]];
					if(old != cur[0]) {
						if(!cur[0] && snabbdom_engine_dom_plugins_Attributes.booleanAttrsDict[key2[0]]) {
							window.requestAnimationFrame((function(key3,elm2) {
								return function(i2) {
									elm2[0].removeAttribute(key3[0]);
								};
							})(key2,elm1));
						} else {
							window.requestAnimationFrame((function(key4,elm3,cur1) {
								return function(i3) {
									elm3[0].setAttribute(key4[0],cur1[0]);
								};
							})(key2,elm1,cur));
						}
					}
				}
				var _g2 = 0;
				var _g11 = Object.keys(oldAttrs);
				while(_g2 < _g11.length) {
					var key5 = _g11[_g2];
					++_g2;
					if(!Object.prototype.hasOwnProperty.call(attrs,key5)) {
						elm1[0].removeAttribute(key5);
					}
				}
				var key6;
				var cur2;
				var old1;
				var elm4 = vnode.elm;
				var oldProps = oldVnode.data.props == null?{ }:oldVnode.data.props;
				var props = vnode.data.props == null?{ }:vnode.data.props;
				var _g3 = 0;
				var _g12 = Object.keys(props);
				while(_g3 < _g12.length) {
					var key7 = _g12[_g3];
					++_g3;
					cur2 = props[key7];
					old1 = oldProps[key7];
					if(old1 != cur2) {
						elm4[key7] = cur2;
					}
				}
				var cur3;
				var name;
				var elm5 = [vnode.elm];
				var oldClass = oldVnode.data.classes == null?{ }:oldVnode.data.classes;
				var klass = vnode.data.classes == null?{ }:vnode.data.classes;
				var _g4 = 0;
				var _g13 = Object.keys(klass);
				while(_g4 < _g13.length) {
					var name1 = [_g13[_g4]];
					++_g4;
					cur3 = klass[name1[0]];
					if(cur3 != oldClass[name1[0]]) {
						if(cur3 == "add") {
							window.requestAnimationFrame((function(name2,elm6) {
								return function(i4) {
									elm6[0].classList.add(name2[0]);
								};
							})(name1,elm5));
						} else if(cur3 == "remove") {
							window.requestAnimationFrame((function(name3,elm7) {
								return function(i5) {
									elm7[0].classList.remove(name3[0]);
								};
							})(name1,elm5));
						}
					}
				}
				var cur4;
				var name4;
				var elm8 = vnode.elm;
				var oldStyle = oldVnode.data.style == null?{ }:oldVnode.data.style;
				var style = vnode.data.style == null?{ }:vnode.data.style;
				var oldHasDel = Object.prototype.hasOwnProperty.call(oldStyle,"delayed");
				var _g5 = 0;
				var _g14 = Object.keys(style);
				while(_g5 < _g14.length) {
					var name5 = _g14[_g5];
					++_g5;
					cur4 = style[name5];
					if(name5 == "delayed") {
						var delayed = style.delayed;
						var oldDelayed = oldStyle.delayed;
						var _g21 = 0;
						var _g31 = Object.keys(delayed);
						while(_g21 < _g31.length) {
							var name6 = _g31[_g21];
							++_g21;
							cur4 = delayed[name6];
							if(!oldHasDel || cur4 != oldDelayed[name6]) {
								var obj = [elm8.style];
								var fn = [(function(val,prop,obj1) {
									return function(i6) {
										obj1[0][prop[0]] = val[0];
									};
								})([cur4],[name6],obj)];
								window.requestAnimationFrame((function(fn1) {
									return function(i7) {
										window.requestAnimationFrame(fn1[0]);
									};
								})(fn));
							}
						}
					} else if(name5 != "remove" && cur4 != oldStyle[name5]) {
						elm8.style[name5] = cur4;
					}
				}
				var name7;
				var cur5;
				var old2;
				var elm9 = vnode.elm;
				var oldOn = oldVnode.data.on == null?{ }:oldVnode.data.on;
				var on = vnode.data.on == null?{ }:vnode.data.on;
				if(on != { }) {
					var _g6 = 0;
					var _g15 = Object.keys(on);
					while(_g6 < _g15.length) {
						var name8 = _g15[_g6];
						++_g6;
						cur5 = on[name8];
						old2 = oldOn[name8];
						if(old2 == null) {
							on[name8] = cur5;
							elm9.addEventListener(name8,cur5);
						} else {
							on[name8] = cur5;
						}
					}
				}
				if(vnode.data != null) {
					i1 = vnode.data.hook;
					if(i1 != undefined) {
						if(i1.create) {
							i1.create(snabbdom_engine_dom_PatchDom.emptyNode,vnode);
						}
						if(i1.insert) {
							insertedVnodeQueue.push(vnode);
						}
					}
				}
			} else {
				var this2 = window.document.createTextNode(vnode.text);
				elm = vnode.elm = this2;
			}
			var new_node1 = vnode.elm;
			parentElm.insertBefore(new_node1,oldStartVnode.elm);
			newStartVnode = newCh[++newStartIdx];
		} else {
			elmToMove = oldCh[idxInOld];
			snabbdom_engine_dom_PatchDom.patchVnode(elmToMove,newStartVnode,insertedVnodeQueue);
			oldCh[idxInOld] = null;
			parentElm.insertBefore(elmToMove.elm,oldStartVnode.elm);
			newStartVnode = newCh[++newStartIdx];
		}
	}
	if(oldStartIdx > oldEndIdx) {
		if(newCh[newEndIdx + 1] == undefined) {
			before = null;
		} else {
			before = newCh[newEndIdx + 1].elm;
		}
		var startIdx = newStartIdx;
		var i8;
		var new_node2;
		i8 = 0;
		while(startIdx <= newEndIdx) {
			var vnode1 = newCh[startIdx];
			var i9;
			var data1 = vnode1.data;
			if(data1 != undefined) {
				var tmp3;
				i9 = data1.hook;
				if(i9 != undefined) {
					i9 = i9.init;
					tmp3 = i9 != undefined;
				} else {
					tmp3 = false;
				}
				if(tmp3) {
					i9(vnode1);
				}
				i9 = data1.vnode;
				if(i9 != undefined) {
					vnode1 = i9;
				}
			}
			var elm10;
			var children1 = vnode1.children;
			var sel1 = vnode1.sel;
			if(sel1 != undefined) {
				var hashIdx1 = sel1.indexOf("#",0);
				var dotIdx1 = sel1.indexOf(".",hashIdx1);
				var hash1 = hashIdx1 > 0?hashIdx1:sel1.length;
				var dot1 = dotIdx1 > 0?dotIdx1:sel1.length;
				var tag1 = hashIdx1 != -1 || dotIdx1 != -1?sel1.slice(0,Math.min(hash1,dot1)):sel1;
				var tmp4;
				var tmp5;
				if(data1 != undefined) {
					i9 = data1.ns;
					tmp5 = i9 != undefined;
				} else {
					tmp5 = false;
				}
				if(tmp5) {
					tmp4 = window.document.createElementNS(i9,tag1);
				} else {
					tmp4 = window.document.createElement(tag1);
				}
				elm10 = vnode1.elm = tmp4;
				if(hash1 < dot1) {
					elm10.id = sel1.slice(hash1 + 1,dot1);
				}
				if(Array.isArray(children1)) {
					i9 = 0;
					while(i9 < children1.length) {
						var new_node3 = snabbdom_engine_dom_PatchDom.createElm(children1[i9],insertedVnodeQueue);
						elm10.appendChild(new_node3);
						++i9;
					}
				} else if(typeof vnode1.text == "string" || typeof vnode1.text == "number") {
					elm10.appendChild(window.document.createTextNode(vnode1.text));
				}
				var oldVnode1 = snabbdom_engine_dom_PatchDom.emptyNode;
				var key8;
				var cur6 = [];
				var old3;
				var elm11 = [vnode1.elm];
				var oldAttrs1 = oldVnode1.data.attrs == null?{ }:oldVnode1.data.attrs;
				var attrs1 = vnode1.data.attrs == null?{ }:vnode1.data.attrs;
				var _g7 = 0;
				var _g16 = Object.keys(attrs1);
				while(_g7 < _g16.length) {
					var key9 = [_g16[_g7]];
					++_g7;
					cur6[0] = attrs1[key9[0]];
					old3 = oldAttrs1[key9[0]];
					if(old3 != cur6[0]) {
						if(!cur6[0] && snabbdom_engine_dom_plugins_Attributes.booleanAttrsDict[key9[0]]) {
							window.requestAnimationFrame((function(key10,elm12) {
								return function(i10) {
									elm12[0].removeAttribute(key10[0]);
								};
							})(key9,elm11));
						} else {
							window.requestAnimationFrame((function(key11,elm13,cur7) {
								return function(i11) {
									elm13[0].setAttribute(key11[0],cur7[0]);
								};
							})(key9,elm11,cur6));
						}
					}
				}
				var _g8 = 0;
				var _g17 = Object.keys(oldAttrs1);
				while(_g8 < _g17.length) {
					var key12 = _g17[_g8];
					++_g8;
					if(!Object.prototype.hasOwnProperty.call(attrs1,key12)) {
						elm11[0].removeAttribute(key12);
					}
				}
				var key13;
				var cur8;
				var old4;
				var elm14 = vnode1.elm;
				var oldProps1 = oldVnode1.data.props == null?{ }:oldVnode1.data.props;
				var props1 = vnode1.data.props == null?{ }:vnode1.data.props;
				var _g9 = 0;
				var _g18 = Object.keys(props1);
				while(_g9 < _g18.length) {
					var key14 = _g18[_g9];
					++_g9;
					cur8 = props1[key14];
					old4 = oldProps1[key14];
					if(old4 != cur8) {
						elm14[key14] = cur8;
					}
				}
				var cur9;
				var name9;
				var elm15 = [vnode1.elm];
				var oldClass1 = oldVnode1.data.classes == null?{ }:oldVnode1.data.classes;
				var klass1 = vnode1.data.classes == null?{ }:vnode1.data.classes;
				var _g10 = 0;
				var _g19 = Object.keys(klass1);
				while(_g10 < _g19.length) {
					var name10 = [_g19[_g10]];
					++_g10;
					cur9 = klass1[name10[0]];
					if(cur9 != oldClass1[name10[0]]) {
						if(cur9 == "add") {
							window.requestAnimationFrame((function(name11,elm16) {
								return function(i12) {
									elm16[0].classList.add(name11[0]);
								};
							})(name10,elm15));
						} else if(cur9 == "remove") {
							window.requestAnimationFrame((function(name12,elm17) {
								return function(i13) {
									elm17[0].classList.remove(name12[0]);
								};
							})(name10,elm15));
						}
					}
				}
				var cur10;
				var name13;
				var elm18 = vnode1.elm;
				var oldStyle1 = oldVnode1.data.style == null?{ }:oldVnode1.data.style;
				var style1 = vnode1.data.style == null?{ }:vnode1.data.style;
				var oldHasDel1 = Object.prototype.hasOwnProperty.call(oldStyle1,"delayed");
				var _g20 = 0;
				var _g110 = Object.keys(style1);
				while(_g20 < _g110.length) {
					var name14 = _g110[_g20];
					++_g20;
					cur10 = style1[name14];
					if(name14 == "delayed") {
						var delayed1 = style1.delayed;
						var oldDelayed1 = oldStyle1.delayed;
						var _g22 = 0;
						var _g32 = Object.keys(delayed1);
						while(_g22 < _g32.length) {
							var name15 = _g32[_g22];
							++_g22;
							cur10 = delayed1[name15];
							if(!oldHasDel1 || cur10 != oldDelayed1[name15]) {
								var obj2 = [elm18.style];
								var fn2 = [(function(val1,prop1,obj3) {
									return function(i14) {
										obj3[0][prop1[0]] = val1[0];
									};
								})([cur10],[name15],obj2)];
								window.requestAnimationFrame((function(fn3) {
									return function(i15) {
										window.requestAnimationFrame(fn3[0]);
									};
								})(fn2));
							}
						}
					} else if(name14 != "remove" && cur10 != oldStyle1[name14]) {
						elm18.style[name14] = cur10;
					}
				}
				var name16;
				var cur11;
				var old5;
				var elm19 = vnode1.elm;
				var oldOn1 = oldVnode1.data.on == null?{ }:oldVnode1.data.on;
				var on1 = vnode1.data.on == null?{ }:vnode1.data.on;
				if(on1 != { }) {
					var _g23 = 0;
					var _g111 = Object.keys(on1);
					while(_g23 < _g111.length) {
						var name17 = _g111[_g23];
						++_g23;
						cur11 = on1[name17];
						old5 = oldOn1[name17];
						if(old5 == null) {
							on1[name17] = cur11;
							elm19.addEventListener(name17,cur11);
						} else {
							on1[name17] = cur11;
						}
					}
				}
				if(vnode1.data != null) {
					i9 = vnode1.data.hook;
					if(i9 != undefined) {
						if(i9.create) {
							i9.create(snabbdom_engine_dom_PatchDom.emptyNode,vnode1);
						}
						if(i9.insert) {
							insertedVnodeQueue.push(vnode1);
						}
					}
				}
			} else {
				var this3 = window.document.createTextNode(vnode1.text);
				elm10 = vnode1.elm = this3;
			}
			new_node2 = vnode1.elm;
			parentElm.insertBefore(new_node2,before);
			++startIdx;
		}
	} else if(newStartIdx > newEndIdx) {
		var startIdx1 = oldStartIdx;
		var y;
		y = 0;
		while(startIdx1 <= oldEndIdx) {
			var i16;
			var listeners;
			var rm = null;
			var ch = oldCh[startIdx1];
			if(ch != undefined) {
				if(ch.sel != undefined) {
					var vnode2 = ch;
					var i17 = vnode2.data;
					var j;
					if(i17 != undefined) {
						var tmp6;
						i17 = i17.hook;
						if(i17 != undefined) {
							i17 = i17.destroy;
							tmp6 = i17 != undefined;
						} else {
							tmp6 = false;
						}
						if(tmp6) {
							i17(vnode2);
						}
						var style2 = null;
						var name18;
						var elm20 = vnode2.elm;
						var s = vnode2.data.style;
						if(s != null) {
							style2 = s.destroy;
							if(style2 != null) {
								var _g24 = 0;
								var _g112 = Object.keys(style2);
								while(_g24 < _g112.length) {
									var name19 = _g112[_g24];
									++_g24;
									elm20.style[name19] = style2[name19];
								}
							}
						}
						i17 = vnode2.children;
						if(i17 != undefined) {
							j = 0;
							while(j < vnode2.children.length) {
								snabbdom_engine_dom_PatchDom.invokeDestroyHook(vnode2.children[j]);
								++j;
							}
						}
					}
					var vnode3 = ch;
					var rm1 = [rm];
					var s1 = vnode3.data.style;
					if(!s1 || !s1.remove) {
						if(rm1[0] != null) {
							rm1[0]();
						}
					} else {
						var name20;
						var elm21 = [vnode3.elm];
						var idx;
						var i18 = 0;
						var maxDur = 0;
						var compStyle;
						var style3 = s1.remove;
						var amount = [0];
						var applied = [];
						var _g25 = 0;
						var _g113 = Object.keys(style3);
						while(_g25 < _g113.length) {
							var name21 = _g113[_g25];
							++_g25;
							applied.push(name21);
							elm21[0].style[name21] = style3[name21];
						}
						compStyle = window.getComputedStyle(elm21[0]);
						var props2 = compStyle["transition-property"].split(", ");
						var i19;
						i19 = 0;
						while(i19 < props2.length) {
							if(applied.indexOf(props2[i19]) != -1) {
								amount[0]++;
							}
							++i19;
						}
						var tmp7 = (function(amount1,elm22,rm2) {
							return function(ev) {
								if(ev.target == elm22[0]) {
									--amount1[0];
								}
								if(amount1[0] == 0) {
									rm2[0]();
								}
							};
						})(amount,elm21,rm1);
						elm21[0].addEventListener("transitionend",tmp7);
					}
					var tmp8;
					var tmp9;
					i16 = ch.data;
					if(i16 != undefined) {
						i16 = i16.hook;
						tmp9 = i16 != undefined;
					} else {
						tmp9 = false;
					}
					if(tmp9) {
						i16 = i16.remove;
						tmp8 = i16 != undefined;
					} else {
						tmp8 = false;
					}
					if(tmp8) {
						i16(ch,rm);
					} else {
						if(rm != null) {
							rm();
						}
						parentElm.removeChild(ch.elm);
					}
				} else {
					parentElm.removeChild(ch.elm);
				}
			}
			++startIdx1;
		}
	}
};
snabbdom_engine_dom_PatchDom.patchVnode = function(oldVnode,vnode,insertedVnodeQueue) {
	var i;
	var hook;
	var tmp;
	var tmp1;
	i = vnode.data;
	if(i != undefined) {
		hook = i.hook;
		tmp1 = hook != undefined;
	} else {
		tmp1 = false;
	}
	if(tmp1) {
		i = hook.prepatch;
		tmp = i != undefined;
	} else {
		tmp = false;
	}
	if(tmp) {
		i(oldVnode,vnode);
	}
	var tmp2;
	i = oldVnode.data;
	if(i != undefined) {
		i = i.vnode;
		tmp2 = i != undefined;
	} else {
		tmp2 = false;
	}
	if(tmp2) {
		oldVnode = i;
	}
	var tmp3;
	i = vnode.data;
	if(i != undefined) {
		i = i.vnode;
		tmp3 = i != undefined;
	} else {
		tmp3 = false;
	}
	if(tmp3) {
		vnode = i;
	}
	var elm = vnode.elm = oldVnode.elm;
	var oldCh = oldVnode.children;
	var ch = vnode.children;
	if(oldVnode == vnode) {
		return;
	}
	if(vnode.data != undefined) {
		var key;
		var cur;
		var old;
		var elm1 = vnode.elm;
		var oldAttrs = oldVnode.data.attrs == null?{ }:oldVnode.data.attrs;
		var attrs = vnode.data.attrs == null?{ }:vnode.data.attrs;
		var _g = 0;
		var _g1 = Object.keys(attrs);
		while(_g < _g1.length) {
			var key1 = [_g1[_g]];
			++_g;
			cur = attrs[key1[0]];
			old = oldAttrs[key1[0]];
			if(old != cur) {
				if(!cur && snabbdom_engine_dom_plugins_Attributes.booleanAttrsDict[key1[0]]) {
					window.requestAnimationFrame((function(key2) {
						return function(i1) {
							elm1.removeAttribute(key2[0]);
						};
					})(key1));
				} else {
					window.requestAnimationFrame((function(key3) {
						return function(i2) {
							elm1.setAttribute(key3[0],cur);
						};
					})(key1));
				}
			}
		}
		var _g2 = 0;
		var _g11 = Object.keys(oldAttrs);
		while(_g2 < _g11.length) {
			var key4 = _g11[_g2];
			++_g2;
			if(!Object.prototype.hasOwnProperty.call(attrs,key4)) {
				elm1.removeAttribute(key4);
			}
		}
		var key5;
		var cur1;
		var old1;
		var elm2 = vnode.elm;
		var oldProps = oldVnode.data.props == null?{ }:oldVnode.data.props;
		var props = vnode.data.props == null?{ }:vnode.data.props;
		var _g3 = 0;
		var _g12 = Object.keys(props);
		while(_g3 < _g12.length) {
			var key6 = _g12[_g3];
			++_g3;
			cur1 = props[key6];
			old1 = oldProps[key6];
			if(old1 != cur1) {
				elm2[key6] = cur1;
			}
		}
		var cur2;
		var name;
		var elm3 = vnode.elm;
		var oldClass = oldVnode.data.classes == null?{ }:oldVnode.data.classes;
		var klass = vnode.data.classes == null?{ }:vnode.data.classes;
		var _g4 = 0;
		var _g13 = Object.keys(klass);
		while(_g4 < _g13.length) {
			var name1 = [_g13[_g4]];
			++_g4;
			cur2 = klass[name1[0]];
			if(cur2 != oldClass[name1[0]]) {
				if(cur2 == "add") {
					window.requestAnimationFrame((function(name2) {
						return function(i3) {
							elm3.classList.add(name2[0]);
						};
					})(name1));
				} else if(cur2 == "remove") {
					window.requestAnimationFrame((function(name3) {
						return function(i4) {
							elm3.classList.remove(name3[0]);
						};
					})(name1));
				}
			}
		}
		var cur3;
		var name4;
		var elm4 = vnode.elm;
		var oldStyle = oldVnode.data.style == null?{ }:oldVnode.data.style;
		var style = vnode.data.style == null?{ }:vnode.data.style;
		var oldHasDel = Object.prototype.hasOwnProperty.call(oldStyle,"delayed");
		var _g5 = 0;
		var _g14 = Object.keys(style);
		while(_g5 < _g14.length) {
			var name5 = _g14[_g5];
			++_g5;
			cur3 = style[name5];
			if(name5 == "delayed") {
				var delayed = style.delayed;
				var oldDelayed = oldStyle.delayed;
				var _g21 = 0;
				var _g31 = Object.keys(delayed);
				while(_g21 < _g31.length) {
					var name6 = _g31[_g21];
					++_g21;
					cur3 = delayed[name6];
					if(!oldHasDel || cur3 != oldDelayed[name6]) {
						var obj = [elm4.style];
						var fn = [(function(val,prop,obj1) {
							return function(i5) {
								obj1[0][prop[0]] = val[0];
							};
						})([cur3],[name6],obj)];
						window.requestAnimationFrame((function(fn1) {
							return function(i6) {
								window.requestAnimationFrame(fn1[0]);
							};
						})(fn));
					}
				}
			} else if(name5 != "remove" && cur3 != oldStyle[name5]) {
				elm4.style[name5] = cur3;
			}
		}
		var name7;
		var cur4;
		var old2;
		var elm5 = vnode.elm;
		var oldOn = oldVnode.data.on == null?{ }:oldVnode.data.on;
		var on = vnode.data.on == null?{ }:vnode.data.on;
		if(on != { }) {
			var _g6 = 0;
			var _g15 = Object.keys(on);
			while(_g6 < _g15.length) {
				var name8 = _g15[_g6];
				++_g6;
				cur4 = on[name8];
				old2 = oldOn[name8];
				if(old2 == null) {
					on[name8] = cur4;
					elm5.addEventListener(name8,cur4);
				} else {
					on[name8] = cur4;
				}
			}
		}
		i = vnode.data.hook;
		var tmp4;
		if(i != undefined) {
			i = i.update;
			tmp4 = i != undefined;
		} else {
			tmp4 = false;
		}
		if(tmp4) {
			i(oldVnode,vnode);
		}
	}
	if(vnode.text == undefined) {
		if(oldCh != undefined && ch != undefined) {
			if(oldCh != ch) {
				snabbdom_engine_dom_PatchDom.updateChildren(elm,oldCh,ch,insertedVnodeQueue);
			}
		} else if(ch != undefined) {
			var startIdx = 0;
			var endIdx = ch.length - 1;
			var i7;
			var new_node;
			i7 = 0;
			while(startIdx <= endIdx) {
				var vnode1 = ch[startIdx];
				var i8;
				var data = vnode1.data;
				if(data != undefined) {
					var tmp5;
					i8 = data.hook;
					if(i8 != undefined) {
						i8 = i8.init;
						tmp5 = i8 != undefined;
					} else {
						tmp5 = false;
					}
					if(tmp5) {
						i8(vnode1);
					}
					i8 = data.vnode;
					if(i8 != undefined) {
						vnode1 = i8;
					}
				}
				var elm6;
				var children = vnode1.children;
				var sel = vnode1.sel;
				if(sel != undefined) {
					var hashIdx = sel.indexOf("#",0);
					var dotIdx = sel.indexOf(".",hashIdx);
					var hash = hashIdx > 0?hashIdx:sel.length;
					var dot = dotIdx > 0?dotIdx:sel.length;
					var tag = hashIdx != -1 || dotIdx != -1?sel.slice(0,Math.min(hash,dot)):sel;
					var tmp6;
					var tmp7;
					if(data != undefined) {
						i8 = data.ns;
						tmp7 = i8 != undefined;
					} else {
						tmp7 = false;
					}
					if(tmp7) {
						tmp6 = window.document.createElementNS(i8,tag);
					} else {
						tmp6 = window.document.createElement(tag);
					}
					elm6 = vnode1.elm = tmp6;
					if(hash < dot) {
						elm6.id = sel.slice(hash + 1,dot);
					}
					if(Array.isArray(children)) {
						i8 = 0;
						while(i8 < children.length) {
							var new_node1 = snabbdom_engine_dom_PatchDom.createElm(children[i8],insertedVnodeQueue);
							elm6.appendChild(new_node1);
							++i8;
						}
					} else if(typeof vnode1.text == "string" || typeof vnode1.text == "number") {
						elm6.appendChild(window.document.createTextNode(vnode1.text));
					}
					var oldVnode1 = snabbdom_engine_dom_PatchDom.emptyNode;
					var key7;
					var cur5 = [];
					var old3;
					var elm7 = [vnode1.elm];
					var oldAttrs1 = oldVnode1.data.attrs == null?{ }:oldVnode1.data.attrs;
					var attrs1 = vnode1.data.attrs == null?{ }:vnode1.data.attrs;
					var _g7 = 0;
					var _g16 = Object.keys(attrs1);
					while(_g7 < _g16.length) {
						var key8 = [_g16[_g7]];
						++_g7;
						cur5[0] = attrs1[key8[0]];
						old3 = oldAttrs1[key8[0]];
						if(old3 != cur5[0]) {
							if(!cur5[0] && snabbdom_engine_dom_plugins_Attributes.booleanAttrsDict[key8[0]]) {
								window.requestAnimationFrame((function(key9,elm8) {
									return function(i9) {
										elm8[0].removeAttribute(key9[0]);
									};
								})(key8,elm7));
							} else {
								window.requestAnimationFrame((function(key10,elm9,cur6) {
									return function(i10) {
										elm9[0].setAttribute(key10[0],cur6[0]);
									};
								})(key8,elm7,cur5));
							}
						}
					}
					var _g8 = 0;
					var _g17 = Object.keys(oldAttrs1);
					while(_g8 < _g17.length) {
						var key11 = _g17[_g8];
						++_g8;
						if(!Object.prototype.hasOwnProperty.call(attrs1,key11)) {
							elm7[0].removeAttribute(key11);
						}
					}
					var key12;
					var cur7;
					var old4;
					var elm10 = vnode1.elm;
					var oldProps1 = oldVnode1.data.props == null?{ }:oldVnode1.data.props;
					var props1 = vnode1.data.props == null?{ }:vnode1.data.props;
					var _g9 = 0;
					var _g18 = Object.keys(props1);
					while(_g9 < _g18.length) {
						var key13 = _g18[_g9];
						++_g9;
						cur7 = props1[key13];
						old4 = oldProps1[key13];
						if(old4 != cur7) {
							elm10[key13] = cur7;
						}
					}
					var cur8;
					var name9;
					var elm11 = [vnode1.elm];
					var oldClass1 = oldVnode1.data.classes == null?{ }:oldVnode1.data.classes;
					var klass1 = vnode1.data.classes == null?{ }:vnode1.data.classes;
					var _g10 = 0;
					var _g19 = Object.keys(klass1);
					while(_g10 < _g19.length) {
						var name10 = [_g19[_g10]];
						++_g10;
						cur8 = klass1[name10[0]];
						if(cur8 != oldClass1[name10[0]]) {
							if(cur8 == "add") {
								window.requestAnimationFrame((function(name11,elm12) {
									return function(i11) {
										elm12[0].classList.add(name11[0]);
									};
								})(name10,elm11));
							} else if(cur8 == "remove") {
								window.requestAnimationFrame((function(name12,elm13) {
									return function(i12) {
										elm13[0].classList.remove(name12[0]);
									};
								})(name10,elm11));
							}
						}
					}
					var cur9;
					var name13;
					var elm14 = vnode1.elm;
					var oldStyle1 = oldVnode1.data.style == null?{ }:oldVnode1.data.style;
					var style1 = vnode1.data.style == null?{ }:vnode1.data.style;
					var oldHasDel1 = Object.prototype.hasOwnProperty.call(oldStyle1,"delayed");
					var _g20 = 0;
					var _g110 = Object.keys(style1);
					while(_g20 < _g110.length) {
						var name14 = _g110[_g20];
						++_g20;
						cur9 = style1[name14];
						if(name14 == "delayed") {
							var delayed1 = style1.delayed;
							var oldDelayed1 = oldStyle1.delayed;
							var _g22 = 0;
							var _g32 = Object.keys(delayed1);
							while(_g22 < _g32.length) {
								var name15 = _g32[_g22];
								++_g22;
								cur9 = delayed1[name15];
								if(!oldHasDel1 || cur9 != oldDelayed1[name15]) {
									var obj2 = [elm14.style];
									var fn2 = [(function(val1,prop1,obj3) {
										return function(i13) {
											obj3[0][prop1[0]] = val1[0];
										};
									})([cur9],[name15],obj2)];
									window.requestAnimationFrame((function(fn3) {
										return function(i14) {
											window.requestAnimationFrame(fn3[0]);
										};
									})(fn2));
								}
							}
						} else if(name14 != "remove" && cur9 != oldStyle1[name14]) {
							elm14.style[name14] = cur9;
						}
					}
					var name16;
					var cur10;
					var old5;
					var elm15 = vnode1.elm;
					var oldOn1 = oldVnode1.data.on == null?{ }:oldVnode1.data.on;
					var on1 = vnode1.data.on == null?{ }:vnode1.data.on;
					if(on1 != { }) {
						var _g23 = 0;
						var _g111 = Object.keys(on1);
						while(_g23 < _g111.length) {
							var name17 = _g111[_g23];
							++_g23;
							cur10 = on1[name17];
							old5 = oldOn1[name17];
							if(old5 == null) {
								on1[name17] = cur10;
								elm15.addEventListener(name17,cur10);
							} else {
								on1[name17] = cur10;
							}
						}
					}
					if(vnode1.data != null) {
						i8 = vnode1.data.hook;
						if(i8 != undefined) {
							if(i8.create) {
								i8.create(snabbdom_engine_dom_PatchDom.emptyNode,vnode1);
							}
							if(i8.insert) {
								insertedVnodeQueue.push(vnode1);
							}
						}
					}
				} else {
					var this1 = window.document.createTextNode(vnode1.text);
					elm6 = vnode1.elm = this1;
				}
				new_node = vnode1.elm;
				elm.insertBefore(new_node,null);
				++startIdx;
			}
		} else if(oldCh != undefined) {
			var startIdx1 = 0;
			var endIdx1 = oldCh.length - 1;
			var y;
			y = 0;
			while(startIdx1 <= endIdx1) {
				var i15;
				var listeners;
				var rm = null;
				var ch1 = oldCh[startIdx1];
				if(ch1 != undefined) {
					if(ch1.sel != undefined) {
						var vnode2 = ch1;
						var i16 = vnode2.data;
						var j;
						if(i16 != undefined) {
							var tmp8;
							i16 = i16.hook;
							if(i16 != undefined) {
								i16 = i16.destroy;
								tmp8 = i16 != undefined;
							} else {
								tmp8 = false;
							}
							if(tmp8) {
								i16(vnode2);
							}
							var style2 = null;
							var name18;
							var elm16 = vnode2.elm;
							var s = vnode2.data.style;
							if(s != null) {
								style2 = s.destroy;
								if(style2 != null) {
									var _g24 = 0;
									var _g112 = Object.keys(style2);
									while(_g24 < _g112.length) {
										var name19 = _g112[_g24];
										++_g24;
										elm16.style[name19] = style2[name19];
									}
								}
							}
							i16 = vnode2.children;
							if(i16 != undefined) {
								j = 0;
								while(j < vnode2.children.length) {
									snabbdom_engine_dom_PatchDom.invokeDestroyHook(vnode2.children[j]);
									++j;
								}
							}
						}
						var vnode3 = ch1;
						var rm1 = [rm];
						var s1 = vnode3.data.style;
						if(!s1 || !s1.remove) {
							if(rm1[0] != null) {
								rm1[0]();
							}
						} else {
							var name20;
							var elm17 = [vnode3.elm];
							var idx;
							var i17 = 0;
							var maxDur = 0;
							var compStyle;
							var style3 = s1.remove;
							var amount = [0];
							var applied = [];
							var _g25 = 0;
							var _g113 = Object.keys(style3);
							while(_g25 < _g113.length) {
								var name21 = _g113[_g25];
								++_g25;
								applied.push(name21);
								elm17[0].style[name21] = style3[name21];
							}
							compStyle = window.getComputedStyle(elm17[0]);
							var props2 = compStyle["transition-property"].split(", ");
							var i18;
							i18 = 0;
							while(i18 < props2.length) {
								if(applied.indexOf(props2[i18]) != -1) {
									amount[0]++;
								}
								++i18;
							}
							var tmp9 = (function(amount1,elm18,rm2) {
								return function(ev) {
									if(ev.target == elm18[0]) {
										--amount1[0];
									}
									if(amount1[0] == 0) {
										rm2[0]();
									}
								};
							})(amount,elm17,rm1);
							elm17[0].addEventListener("transitionend",tmp9);
						}
						var tmp10;
						var tmp11;
						i15 = ch1.data;
						if(i15 != undefined) {
							i15 = i15.hook;
							tmp11 = i15 != undefined;
						} else {
							tmp11 = false;
						}
						if(tmp11) {
							i15 = i15.remove;
							tmp10 = i15 != undefined;
						} else {
							tmp10 = false;
						}
						if(tmp10) {
							i15(ch1,rm);
						} else {
							if(rm != null) {
								rm();
							}
							elm.removeChild(ch1.elm);
						}
					} else {
						elm.removeChild(ch1.elm);
					}
				}
				++startIdx1;
			}
		}
	} else if(oldVnode.text != vnode.text) {
		elm.textContent = vnode.text;
	}
	var tmp12;
	if(hook != undefined) {
		i = hook.postpatch;
		tmp12 = i != undefined;
	} else {
		tmp12 = false;
	}
	if(tmp12) {
		i(oldVnode,vnode);
	}
};
snabbdom_engine_dom_PatchDom.patchDom = function(oldVnode,vnode) {
	var i;
	var insertedVnodeQueue = [];
	var this1 = oldVnode.parentElement;
	if(this1 != null) {
		var vnode1 = vnode;
		var i1;
		var data = vnode1.data;
		if(data != undefined) {
			var tmp;
			i1 = data.hook;
			if(i1 != undefined) {
				i1 = i1.init;
				tmp = i1 != undefined;
			} else {
				tmp = false;
			}
			if(tmp) {
				i1(vnode1);
			}
			i1 = data.vnode;
			if(i1 != undefined) {
				vnode1 = i1;
			}
		}
		var elm;
		var children = vnode1.children;
		var sel = vnode1.sel;
		if(sel != undefined) {
			var hashIdx = sel.indexOf("#",0);
			var dotIdx = sel.indexOf(".",hashIdx);
			var hash = hashIdx > 0?hashIdx:sel.length;
			var dot = dotIdx > 0?dotIdx:sel.length;
			var tag = hashIdx != -1 || dotIdx != -1?sel.slice(0,Math.min(hash,dot)):sel;
			var tmp1;
			var tmp2;
			if(data != undefined) {
				i1 = data.ns;
				tmp2 = i1 != undefined;
			} else {
				tmp2 = false;
			}
			if(tmp2) {
				tmp1 = window.document.createElementNS(i1,tag);
			} else {
				tmp1 = window.document.createElement(tag);
			}
			elm = vnode1.elm = tmp1;
			if(hash < dot) {
				elm.id = sel.slice(hash + 1,dot);
			}
			if(Array.isArray(children)) {
				i1 = 0;
				while(i1 < children.length) {
					var new_node = snabbdom_engine_dom_PatchDom.createElm(children[i1],insertedVnodeQueue);
					elm.appendChild(new_node);
					++i1;
				}
			} else if(typeof vnode1.text == "string" || typeof vnode1.text == "number") {
				elm.appendChild(window.document.createTextNode(vnode1.text));
			}
			var oldVnode1 = snabbdom_engine_dom_PatchDom.emptyNode;
			var key;
			var cur;
			var old;
			var elm1 = vnode1.elm;
			var oldAttrs = oldVnode1.data.attrs == null?{ }:oldVnode1.data.attrs;
			var attrs = vnode1.data.attrs == null?{ }:vnode1.data.attrs;
			var _g = 0;
			var _g1 = Object.keys(attrs);
			while(_g < _g1.length) {
				var key1 = [_g1[_g]];
				++_g;
				cur = attrs[key1[0]];
				old = oldAttrs[key1[0]];
				if(old != cur) {
					if(!cur && snabbdom_engine_dom_plugins_Attributes.booleanAttrsDict[key1[0]]) {
						window.requestAnimationFrame((function(key2) {
							return function(i2) {
								elm1.removeAttribute(key2[0]);
							};
						})(key1));
					} else {
						window.requestAnimationFrame((function(key3) {
							return function(i3) {
								elm1.setAttribute(key3[0],cur);
							};
						})(key1));
					}
				}
			}
			var _g2 = 0;
			var _g11 = Object.keys(oldAttrs);
			while(_g2 < _g11.length) {
				var key4 = _g11[_g2];
				++_g2;
				if(!Object.prototype.hasOwnProperty.call(attrs,key4)) {
					elm1.removeAttribute(key4);
				}
			}
			var key5;
			var cur1;
			var old1;
			var elm2 = vnode1.elm;
			var oldProps = oldVnode1.data.props == null?{ }:oldVnode1.data.props;
			var props = vnode1.data.props == null?{ }:vnode1.data.props;
			var _g3 = 0;
			var _g12 = Object.keys(props);
			while(_g3 < _g12.length) {
				var key6 = _g12[_g3];
				++_g3;
				cur1 = props[key6];
				old1 = oldProps[key6];
				if(old1 != cur1) {
					elm2[key6] = cur1;
				}
			}
			var cur2;
			var name;
			var elm3 = vnode1.elm;
			var oldClass = oldVnode1.data.classes == null?{ }:oldVnode1.data.classes;
			var klass = vnode1.data.classes == null?{ }:vnode1.data.classes;
			var _g4 = 0;
			var _g13 = Object.keys(klass);
			while(_g4 < _g13.length) {
				var name1 = [_g13[_g4]];
				++_g4;
				cur2 = klass[name1[0]];
				if(cur2 != oldClass[name1[0]]) {
					if(cur2 == "add") {
						window.requestAnimationFrame((function(name2) {
							return function(i4) {
								elm3.classList.add(name2[0]);
							};
						})(name1));
					} else if(cur2 == "remove") {
						window.requestAnimationFrame((function(name3) {
							return function(i5) {
								elm3.classList.remove(name3[0]);
							};
						})(name1));
					}
				}
			}
			var cur3;
			var name4;
			var elm4 = vnode1.elm;
			var oldStyle = oldVnode1.data.style == null?{ }:oldVnode1.data.style;
			var style = vnode1.data.style == null?{ }:vnode1.data.style;
			var oldHasDel = Object.prototype.hasOwnProperty.call(oldStyle,"delayed");
			var _g5 = 0;
			var _g14 = Object.keys(style);
			while(_g5 < _g14.length) {
				var name5 = _g14[_g5];
				++_g5;
				cur3 = style[name5];
				if(name5 == "delayed") {
					var delayed = style.delayed;
					var oldDelayed = oldStyle.delayed;
					var _g21 = 0;
					var _g31 = Object.keys(delayed);
					while(_g21 < _g31.length) {
						var name6 = _g31[_g21];
						++_g21;
						cur3 = delayed[name6];
						if(!oldHasDel || cur3 != oldDelayed[name6]) {
							var obj = [elm4.style];
							var fn = [(function(val,prop,obj1) {
								return function(i6) {
									obj1[0][prop[0]] = val[0];
								};
							})([cur3],[name6],obj)];
							window.requestAnimationFrame((function(fn1) {
								return function(i7) {
									window.requestAnimationFrame(fn1[0]);
								};
							})(fn));
						}
					}
				} else if(name5 != "remove" && cur3 != oldStyle[name5]) {
					elm4.style[name5] = cur3;
				}
			}
			var name7;
			var cur4;
			var old2;
			var elm5 = vnode1.elm;
			var oldOn = oldVnode1.data.on == null?{ }:oldVnode1.data.on;
			var on = vnode1.data.on == null?{ }:vnode1.data.on;
			if(on != { }) {
				var _g6 = 0;
				var _g15 = Object.keys(on);
				while(_g6 < _g15.length) {
					var name8 = _g15[_g6];
					++_g6;
					cur4 = on[name8];
					old2 = oldOn[name8];
					if(old2 == null) {
						on[name8] = cur4;
						elm5.addEventListener(name8,cur4);
					} else {
						on[name8] = cur4;
					}
				}
			}
			if(vnode1.data != null) {
				i1 = vnode1.data.hook;
				if(i1 != undefined) {
					if(i1.create) {
						i1.create(snabbdom_engine_dom_PatchDom.emptyNode,vnode1);
					}
					if(i1.insert) {
						insertedVnodeQueue.push(vnode1);
					}
				}
			}
		} else {
			var this2 = window.document.createTextNode(vnode1.text);
			elm = vnode1.elm = this2;
		}
		var this3 = oldVnode.parentElement;
		this3.replaceChild(vnode.elm,oldVnode);
	} else {
		var data1 = { };
		var key7 = data1 == null?null:data1.key;
		oldVnode = { sel : oldVnode.tagName, data : data1, children : [], text : null, elm : oldVnode, key : key7};
		snabbdom_engine_dom_PatchDom.patchVnode(oldVnode,vnode,insertedVnodeQueue);
	}
	i = 0;
	while(i < insertedVnodeQueue.length) {
		insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);
		++i;
	}
	return vnode;
};
snabbdom_engine_dom_PatchDom.patch = function(oldVnode,vnode) {
	var i;
	var insertedVnodeQueue = [];
	snabbdom_engine_dom_PatchDom.patchVnode(oldVnode,vnode,insertedVnodeQueue);
	i = 0;
	while(i < insertedVnodeQueue.length) {
		insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);
		++i;
	}
	return vnode;
};
var snabbdom_engine_dom_plugins_Attributes = function() { };
snabbdom_engine_dom_plugins_Attributes.__name__ = true;
var thx_Arrays = function() { };
thx_Arrays.__name__ = true;
thx_Arrays.shuffle = function(a) {
	var t = thx_Ints.range(a.length);
	var array = [];
	while(t.length > 0) {
		var pos = Std.random(t.length);
		var index = t[pos];
		t.splice(pos,1);
		array.push(a[index]);
	}
	return array;
};
var thx_Either = { __ename__ : true, __constructs__ : ["Left","Right"] };
thx_Either.Left = function(value) { var $x = ["Left",0,value]; $x.__enum__ = thx_Either; return $x; };
thx_Either.Right = function(value) { var $x = ["Right",1,value]; $x.__enum__ = thx_Either; return $x; };
var thx_Ints = function() { };
thx_Ints.__name__ = true;
thx_Ints.range = function(start,stop,step) {
	if(step == null) {
		step = 1;
	}
	if(null == stop) {
		stop = start;
		start = 0;
	}
	if((stop - start) / step == Infinity) {
		throw new js__$Boot_HaxeError("infinite range");
	}
	var range = [];
	var i = -1;
	var j;
	if(step < 0) {
		while(true) {
			j = start + step * ++i;
			if(!(j > stop)) {
				break;
			}
			range.push(j);
		}
	} else {
		while(true) {
			j = start + step * ++i;
			if(!(j < stop)) {
				break;
			}
			range.push(j);
		}
	}
	return range;
};
String.__name__ = true;
Array.__name__ = true;
snabbdom_engine_dom_PatchDom.emptyNode = (function($this) {
	var $r;
	var data = { };
	$r = { sel : "", data : data, children : [], text : null, elm : null, key : data == null?null:data.key};
	return $r;
}(this));
snabbdom_engine_dom_plugins_Attributes.booleanAttrs = ["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"];
snabbdom_engine_dom_plugins_Attributes.booleanAttrsDict = (function($this) {
	var $r;
	var hash = { };
	var len = snabbdom_engine_dom_plugins_Attributes.booleanAttrs.length;
	var i = 0;
	{
		i = 0;
		while(i < len) {
			hash[snabbdom_engine_dom_plugins_Attributes.booleanAttrs[i]] = true;
			++i;
		}
	}
	$r = hash;
	return $r;
}(this));
snabbdom_Main.main();
})();
